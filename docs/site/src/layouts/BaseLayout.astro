---
import Nav from '../components/Nav.astro';
import Footer from '../components/Footer.astro';
import '../styles/global.css';

interface Props {
  title: string;
  description: string;
  current?: string;
}

const { title, description, current = '' } = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{title}</title>
  <meta name="description" content={description}>

  <!-- Open Graph -->
  <meta property="og:title" content={title}>
  <meta property="og:description" content={description}>
  <meta property="og:image" content="https://kiln3d.com/assets/kiln-social-preview.png">
  <meta property="og:type" content="website">
  <meta property="og:url" content={Astro.url.href}>

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content={title}>
  <meta name="twitter:description" content={description}>
  <meta name="twitter:image" content="https://kiln3d.com/assets/kiln-social-preview.png">

  <!-- Structured Data (Schema.org) -->
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "Kiln",
    "alternateName": "kiln3d",
    "applicationCategory": "DeveloperApplication",
    "operatingSystem": "Linux, macOS, Windows",
    "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" },
    "description": "Open-source MCP server and CLI that lets AI agents safely control 3D printers, manage print farms, and outsource manufacturing. 273 MCP tools for OctoPrint, Moonraker, Bambu Lab, Prusa Link, and Elegoo.",
    "url": "https://kiln3d.com",
    "downloadUrl": "https://pypi.org/project/kiln3d/",
    "softwareVersion": "0.1.0",
    "license": "https://opensource.org/licenses/MIT",
    "codeRepository": "https://github.com/codeofaxel/Kiln",
    "programmingLanguage": "Python",
    "keywords": ["3D printing", "MCP", "AI agent", "OctoPrint", "Moonraker", "Klipper", "Bambu Lab", "Prusa Link", "print farm", "manufacturing automation", "Model Context Protocol"],
    "author": { "@type": "Organization", "name": "Kiln Contributors", "url": "https://github.com/codeofaxel/Kiln" }
  })} />

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>
  <Nav current={current} />
  <main>
    <slot />
  </main>
  <Footer />
</body>
</html>
